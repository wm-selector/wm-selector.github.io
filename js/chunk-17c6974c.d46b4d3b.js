(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17c6974c"],{"110f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"json-editor-view"},[a("fieldset",{attrs:{id:"army_list"}},[a("legend",[t._v("Army List")]),a("label",[a("span",[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.json.name,expression:"json.name"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.json.name},on:{input:function(e){e.target.composing||t.$set(t.json,"name",e.target.value)}}})]),a("label",[a("span",[t._v("Version")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.json.version,expression:"json.version"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.json.version},on:{input:function(e){e.target.composing||t.$set(t.json,"version",e.target.value)}}})]),a("label",[a("span",[t._v("Group")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.json.group,expression:"json.group"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.json.group},on:{input:function(e){e.target.composing||t.$set(t.json,"group",e.target.value)}}})]),a("label",[a("span",[t._v("Order")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.json.order,expression:"json.order"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.json.order},on:{input:function(e){e.target.composing||t.$set(t.json,"order",e.target.value)}}})]),a("label",[a("span",[t._v("Magic")]),a("button",{staticClass:"fa",class:{"fa-check":t.json.magic,"fa-blank":!t.json.magic},on:{click:function(e){t.json.magic=!t.json.magic}}})])]),a("div",{staticClass:"responsive-table"},[a("table",[a("caption",[t._v("Units")]),t._m(0),a("VueDraggable",{attrs:{element:"tbody",handle:".id"},model:{value:t.unitIDs,callback:function(e){t.unitIDs=e},expression:"unitIDs"}},t._l(t.json.units,(function(e,s){return a("StatLine",{key:"unit_"+s,attrs:{id:s,troop:e}},[a("button",{staticClass:"fa fa-minus",attrs:{title:"Remove "+s},on:{click:function(e){return t.removeUnit(s)}}},[a("span",{staticClass:"sr-only"},[t._v("Remove "+t._s(s))])])])})),1),a("tfoot",[a("tr",[a("td",{staticClass:"add"},[a("button",{staticClass:"fa fa-plus",attrs:{title:"Add Unit"},on:{click:function(e){return t.addUnit()}}},[a("span",{staticClass:"sr-only"},[t._v("Add Unit")])])]),a("td",{staticClass:"id"},[a("input",{ref:"newUnit",attrs:{id:"newUnit",type:"text",placeholder:"Enter a name…"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addUnit()}}})]),a("td",{attrs:{colspan:"10"}})])])],1)]),a("div",{staticClass:"responsive-table"},[a("table",[a("caption",[t._v("Upgrades")]),t._m(1),a("VueDraggable",{attrs:{element:"tbody",handle:"tr"},model:{value:t.upgradeIDs,callback:function(e){t.upgradeIDs=e},expression:"upgradeIDs"}},t._l(t.json.upgrades,(function(e,s){return a("StatLine",{key:"upgrade_"+s,attrs:{id:s,troop:e}},[a("button",{staticClass:"fa fa-minus",attrs:{title:"Remove "+s},on:{click:function(e){return t.removeUpgrade(s)}}},[a("span",{staticClass:"sr-only"},[t._v("Remove "+t._s(s))])])])})),1),a("tfoot",[a("tr",[a("td",{staticClass:"add"},[a("button",{staticClass:"fa fa-plus",attrs:{title:"Add Upgrade"},on:{click:function(e){return t.addUpgrade()}}},[a("span",{staticClass:"sr-only"},[t._v("Add Upgrade")])])]),a("td",{staticClass:"id"},[a("input",{ref:"newUpgrade",attrs:{id:"newUpgrade",type:"text",placeholder:"Enter a name…"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addUpgrade()}}})]),a("td",{attrs:{colspan:"10"}})])])],1)]),a("fieldset",[a("legend",[t._v("Army Rules")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.armyRules,expression:"armyRules"}],staticClass:"small",attrs:{placeholder:"Please enter some markdown…"},domProps:{value:t.armyRules},on:{blur:function(t){t.target.rows=null},focus:function(t){t.target.rows=10},input:function(e){e.target.composing||(t.armyRules=e.target.value)}}})]),a("fieldset",[a("legend",[t._v("Special Rules")]),a("VueDraggable",{attrs:{handle:".handle"},model:{value:t.specialRuleIDs,callback:function(e){t.specialRuleIDs=e},expression:"specialRuleIDs"}},t._l(t.json.specialRules,(function(e,s){return a("SpecialRule",{key:"special_rule_"+s,attrs:{id:s}},[a("button",{staticClass:"fa fa-remove",attrs:{title:"Remove "+s},on:{click:function(e){return t.removeSpecialRule(s)}}},[a("span",{staticClass:"sr-only"},[t._v("Remove "+t._s(s))])])])})),1),a("div",[a("button",{staticClass:"fa fa-plus",attrs:{title:"Add Special Rule"},on:{click:function(e){return t.addSpecialRule()}}},[a("span",{staticClass:"sr-only"},[t._v("Add Special Rule")])]),a("input",{ref:"newSpecialRule",attrs:{id:"newSpecialRule",type:"text",placeholder:"Enter a name…"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSpecialRule()}}})])],1),a("fieldset",[a("legend",[t._v("Spells")]),a("VueDraggable",{attrs:{handle:".handle"},model:{value:t.json.spells,callback:function(e){t.$set(t.json,"spells",e)},expression:"json.spells"}},t._l(t.json.spells,(function(e,s){return a("Spell",{key:"spell_"+s,attrs:{spell:e}},[a("button",{staticClass:"fa fa-remove",attrs:{title:"Remove "+e.name},on:{click:function(e){return t.removeSpell(s)}}},[a("span",{staticClass:"sr-only"},[t._v("Remove "+t._s(e.name))])])])})),1),a("div",[a("button",{staticClass:"fa fa-plus",attrs:{title:"Add Spell"},on:{click:function(e){return t.addSpell()}}},[a("span",{staticClass:"sr-only"},[t._v("Add Spell")])])])],1),a("hr"),a("textarea",{attrs:{readonly:""},domProps:{innerHTML:t._s(t.jsonString())},on:{blur:function(t){t.target.rows=null},focus:function(t){t.target.select(),t.target.rows=20}}})])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"remove"}),a("th",{staticClass:"id"},[t._v("ID")]),a("th",{staticClass:"type"},[t._v("Type")]),a("th",{staticClass:"attack"},[t._v("Attack")]),a("th",{staticClass:"range"},[t._v("Range")]),a("th",{staticClass:"hits"},[t._v("Hits")]),a("th",{staticClass:"armour"},[t._v("Armour")]),a("th",{staticClass:"command"},[t._v("Command")]),a("th",{staticClass:"size"},[t._v("Size")]),a("th",{staticClass:"points"},[t._v("Points")]),a("th",{staticClass:"min-max"},[t._v("Min/Max")]),a("th",{staticClass:"special"},[t._v("Special")]),a("th",{staticClass:"upgrades"},[t._v("Upgrades")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"remove"}),a("th",{staticClass:"id"},[t._v("ID")]),a("th",{staticClass:"type"},[t._v("Type")]),a("th",{staticClass:"attack"},[t._v("Attack")]),a("th",{staticClass:"range"},[t._v("Range")]),a("th",{staticClass:"hits"},[t._v("Hits")]),a("th",{staticClass:"armour"},[t._v("Armour")]),a("th",{staticClass:"command"},[t._v("Command")]),a("th",{staticClass:"size"},[t._v("Size")]),a("th",{staticClass:"points"},[t._v("Points")]),a("th",{staticClass:"min-max"},[t._v("Min/Max")]),a("th",{staticClass:"special"},[t._v("Special")])])])}],o=(a("a15b"),a("13d5"),a("b64b"),a("ac1f"),a("5319"),a("1276"),a("2b0e")),r=a("b76a"),l=a.n(r),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"special-rule"},[a("div",{staticClass:"handle"}),a("div",{staticClass:"id"},[a("span",{staticClass:"order"},[t._v(t._s(t.order)+".")]),t._v(" "+t._s(t.id))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"small",attrs:{placeholder:"Please enter some markdown…"},domProps:{value:t.text},on:{blur:function(t){t.target.rows=null},focus:function(t){t.target.rows=10},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._t("default")],2)},p=[],u=a("4360"),c={name:"SpecialRule",computed:{order:function(){return u["a"].getters.json.specialRules[this.id].order},text:{get:function(){try{return u["a"].getters.json.specialRules[this.id].text.join("\n")}catch(t){return""}},set:function(t){o["a"].set(u["a"].getters.json.specialRules[this.id],"text",t.split("\n"))}}},props:["id"]},d=c,m=(a("17b7"),a("2877")),v=Object(m["a"])(d,i,p,!1,null,null,null),g=v.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spell"},[a("div",{staticClass:"handle"}),a("label",[a("span",[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.spell.name,expression:"spell.name"}],staticClass:"small",attrs:{type:"text",placeholder:"Please enter a name…"},domProps:{value:t.spell.name},on:{input:function(e){e.target.composing||t.$set(t.spell,"name",e.target.value)}}})]),a("label",[a("span",[t._v("Roll")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.spell.roll,expression:"spell.roll"}],staticClass:"small",attrs:{type:"text",placeholder:"X+ to cast"},domProps:{value:t.spell.roll},on:{input:function(e){e.target.composing||t.$set(t.spell,"roll",e.target.value)}}})]),a("label",[a("span",[t._v("Range")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.spell.range,expression:"spell.range"}],staticClass:"small",attrs:{type:"text",placeholder:"N/A"},domProps:{value:t.spell.range},on:{input:function(e){e.target.composing||t.$set(t.spell,"range",e.target.value)}}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"small",attrs:{placeholder:"Please enter some markdown…"},domProps:{value:t.text},on:{blur:function(t){t.target.rows=null},focus:function(t){t.target.rows=10},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._t("default")],2)},_=[],h={name:"Spell",computed:{text:{get:function(){try{return this.spell.text.join("\n")}catch(t){return""}},set:function(t){o["a"].set(this.spell,"text",t.split("\n"))}}},props:["spell"]},y=h,x=(a("8408"),Object(m["a"])(y,f,_,!1,null,null,null)),C=x.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"stat-line"},[a("td",{staticClass:"remove"},[t._t("default")],2),a("td",{staticClass:"id"},[t._v(t._s(t.id))]),a("td",{staticClass:"type"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.troop.type,expression:"troop.type"}],staticClass:"small",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.troop,"type",e.target.multiple?a:a[0])}}},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)])]),a("td",{staticClass:"attack"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.attack,expression:"troop.attack"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.attack},on:{input:function(e){e.target.composing||t.$set(t.troop,"attack",e.target.value)}}})]),a("td",{staticClass:"range"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.range,expression:"troop.range"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.range},on:{input:function(e){e.target.composing||t.$set(t.troop,"range",e.target.value)}}})]),a("td",{staticClass:"hits"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.hits,expression:"troop.hits"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.hits},on:{input:function(e){e.target.composing||t.$set(t.troop,"hits",e.target.value)}}})]),a("td",{staticClass:"armour"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.armour,expression:"troop.armour"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.armour},on:{input:function(e){e.target.composing||t.$set(t.troop,"armour",e.target.value)}}})]),a("td",{staticClass:"command"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.command,expression:"troop.command"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.command},on:{input:function(e){e.target.composing||t.$set(t.troop,"command",e.target.value)}}})]),a("td",{staticClass:"size"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.size,expression:"troop.size"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.size},on:{input:function(e){e.target.composing||t.$set(t.troop,"size",e.target.value)}}})]),a("td",{staticClass:"points"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.points,expression:"troop.points"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.points},on:{input:function(e){e.target.composing||t.$set(t.troop,"points",e.target.value)}}})]),a("td",{staticClass:"min-max"},[t.armyMinMax?a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.armyMin,expression:"troop.armyMin"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.troop.armyMin},on:{input:function(e){e.target.composing||t.$set(t.troop,"armyMin",e.target.value)}}}):t._e(),t.armyMinMax?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.min,expression:"troop.min"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.min},on:{input:function(e){e.target.composing||t.$set(t.troop,"min",e.target.value)}}}),a("button",{class:{army:t.armyMinMax},attrs:{title:"Toggle Min/Max Type"},on:{click:function(e){return t.toggleMinMaxType()}}},[a("span",{staticClass:"sr-only"},[t._v("Toggle Min/Max Type")])]),t.armyMinMax?a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.armyMax,expression:"troop.armyMax"}],attrs:{type:"text"},domProps:{value:t.troop.armyMax},on:{input:function(e){e.target.composing||t.$set(t.troop,"armyMax",e.target.value)}}}):t._e(),t.armyMinMax?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.troop.max,expression:"troop.max"}],attrs:{type:"text",placeholder:"-"},domProps:{value:t.troop.max},on:{input:function(e){e.target.composing||t.$set(t.troop,"max",e.target.value)}}})]),a("td",{staticClass:"special"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.specialRules,expression:"specialRules"}],attrs:{type:"text",multiple:"",size:"3"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.specialRules=e.target.multiple?a:a[0]}}},t._l(t.specialRuleIDs(),(function(e){return a("option",{key:e,attrs:{disabled:t.id===e},domProps:{value:e}},[t._v(t._s(e))])})),0)]),a("td",{staticClass:"upgrades"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.upgrades,expression:"upgrades"}],attrs:{type:"text",multiple:"",size:"3"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.upgrades=e.target.multiple?a:a[0]}}},t._l(t.upgradeIDs(),(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Units"}},[a("option",[t._v("Artillery")]),a("option",[t._v("Cavalry")]),a("option",[t._v("Chariot")]),a("option",[t._v("Elephant")]),a("option",[t._v("Infantry")]),a("option",[t._v("Machine")]),a("option",[t._v("Monster")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Characters"}},[a("option",[t._v("General")]),a("option",[t._v("Hero")]),a("option",[t._v("Leader")]),a("option",[t._v("Subordinate")]),a("option",[t._v("Wizard")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Upgrades"}},[a("option",[t._v("Chariot Mount")]),a("option",[t._v("Monstrous Mount")]),a("option",[t._v("Mount")]),a("option",[t._v("Special")]),a("option",[t._v("Special Mount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Unités"}},[a("option",[t._v("Artillerie")]),a("option",[t._v("Cavalerie")]),a("option",[t._v("Char")]),a("option",[t._v("Eléphant")]),a("option",[t._v("Infantrie")]),a("option",[t._v("Machine")]),a("option",[t._v("Monstre")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Personnages"}},[a("option",[t._v("Général")]),a("option",[t._v("Héros")]),a("option",[t._v("Sorcier")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Améliorations"}},[a("option",[t._v("Char monté")]),a("option",[t._v("Monture Monstrueuse")]),a("option",[t._v("Monture")]),a("option",[t._v("Spécial")]),a("option",[t._v("Monture Spéciale")])])}],M={name:"StatLine",computed:{specialRules:{get:function(){return this.troop.specialRules||[]},set:function(t){o["a"].set(this.troop,"specialRules",t)}},upgrades:{get:function(){return this.troop.upgrades||[]},set:function(t){o["a"].set(this.troop,"upgrades",t)}}},data:function(){return{armyMinMax:void 0!==this.troop.armyMin||void 0!==this.troop.armyMax}},methods:{specialRuleIDs:function(){return Object.keys(u["a"].getters.json.specialRules)},toggleMinMaxType:function(){this.armyMinMax=!this.armyMinMax,this.armyMinMax?(o["a"].set(this.troop,"armyMin",this.troop.min),o["a"].set(this.troop,"armyMax",this.troop.max),o["a"].delete(this.troop,"min"),o["a"].delete(this.troop,"max")):(o["a"].set(this.troop,"min",this.troop.armyMin),o["a"].set(this.troop,"max",this.troop.armyMax),o["a"].delete(this.troop,"armyMin"),o["a"].delete(this.troop,"armyMax"))},upgradeIDs:function(){return Object.keys(u["a"].getters.json.upgrades)}},props:["id","troop"]},k=M,R=(a("f172"),Object(m["a"])(k,j,b,!1,null,null,null)),w=R.exports,S={name:"JSONEditorView",components:{SpecialRule:g,Spell:C,StatLine:w,VueDraggable:l.a},computed:{armyRules:{get:function(){try{return u["a"].getters.json.armyRules.join("\n")}catch(t){return""}},set:function(t){o["a"].set(this.json,"armyRules",t.split("\n"))}},json:{get:function(){return u["a"].getters.json},set:function(t){return u["a"].commit("SET_JSON",t)}},specialRuleIDs:{get:function(){return Object.keys(u["a"].getters.json.specialRules)},set:function(t){var e=1;o["a"].set(this.json,"specialRules",t.reduce((function(t,a){return t[a]=u["a"].getters.json.specialRules[a],t[a].order=e++,t}),{}))}},unitIDs:{get:function(){return Object.keys(u["a"].getters.json.units)},set:function(t){var e=0;o["a"].set(this.json,"units",t.reduce((function(t,a){return t[a]=u["a"].getters.json.units[a],t[a].order=e++,t}),{}))}},upgradeIDs:{get:function(){return Object.keys(u["a"].getters.json.upgrades)},set:function(t){var e=0;o["a"].set(this.json,"upgrades",t.reduce((function(t,a){return t[a]=u["a"].getters.json.upgrades[a],t[a].order=e++,t}),{}))}}},methods:{addSpecialRule:function(){this.$refs.newSpecialRule.value&&(o["a"].set(u["a"].getters.json.specialRules,this.$refs.newSpecialRule.value,{order:Object.keys(u["a"].getters.json.specialRules).length+1,text:[]}),this.$refs.newSpecialRule.value="")},addSpell:function(){o["a"].set(u["a"].getters.json.spells,u["a"].getters.json.spells.length,{text:[]})},addUnit:function(){this.$refs.newUnit.value&&(o["a"].set(this.json.units,this.$refs.newUnit.value,{order:Object.keys(u["a"].getters.json.units).length}),this.$refs.newUnit.value="")},addUpgrade:function(){this.$refs.newUpgrade.value&&(o["a"].set(this.json.upgrades,this.$refs.newUpgrade.value,{order:Object.keys(u["a"].getters.json.upgrades).length}),this.$refs.newUpgrade.value="")},jsonString:function(){return JSON.stringify(this.json).replace(/":"(\d+)"/g,'":$1').replace(/ +"/g,'"').replace(/,?"[^"]+":(""|\[\]|false)/g,"").replace(/{,/g,"{")},removeSpecialRule:function(t){o["a"].delete(u["a"].getters.json.specialRules,t)},removeSpell:function(t){o["a"].delete(u["a"].getters.json.spells,t)},removeUnit:function(t){o["a"].delete(u["a"].getters.json.units,t)},removeUpgrade:function(t){o["a"].delete(u["a"].getters.json.upgrades,t)}}},$=S,P=(a("64ee"),Object(m["a"])($,s,n,!1,null,null,null));e["default"]=P.exports},"17b7":function(t,e,a){"use strict";a("aa87")},"64ee":function(t,e,a){"use strict";a("75ea")},"75ea":function(t,e,a){},8408:function(t,e,a){"use strict";a("a40b")},a40b:function(t,e,a){},aa87:function(t,e,a){},e464:function(t,e,a){},f172:function(t,e,a){"use strict";a("e464")}}]);
//# sourceMappingURL=chunk-17c6974c.d46b4d3b.js.map